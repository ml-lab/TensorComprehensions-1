package:
  name: halide
  version: "{{ environ.get('HALIDE_BUILD_VERSION') }}"

source:
  git_url: https://github.com/halide/Halide.git
  git_rev: "{{ environ.get('HALIDE_GIT_HASH') }}"

requirements:
  build:
    - llvm==0.2.1
    - tapir50
    - cmake
  run:
    - llvm==0.2.1
    - tapir50
    - cmake

build:
  number: {{ environ.get('HALIDE_BUILD_NUMBER') }}
  skip: True   # [win]
  features:
    - tapir50

test:
  requires:
    - tapir50
  commands:
    - test -f $PREFIX/lib/libHalide.so
    - test -f $PREFIX/lib/libHalide.a
    - test -d $PREFIX/include/Halide

about:
  home: http://halide-lang.org
  license: MIT
  summary: A language for image processing and computational photography

extra:
  recipe-maintainers:
    - prigoyal
